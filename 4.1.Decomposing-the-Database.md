# Decomposing the database
### Index 
- [Shared Database](#Pattern : Shared Database)
- 
## Pattern : Shared Database
- Logical seperation of schema
### Where to use
- Reference data which doesnot change
- Database as a Service (pattern).
#### Cons :
- Single point fo failure.

## Pattern : Database View
### Problem : Your DB is accessed by multiple external systems causing performance issues to your DB
### Solution: Present a view to the service, a projection of the underlying schema. 
- For example 
- you have a customer table with __( id, address password, Loyalty Card number).__
- your external service needs only __ID and Loyalty card Number__ .
- __Create a view__ with only __ID and Loyality card number.__
- The ability of view to project only limited information from underlying source allows us to implement a from of Information hiding.
- This reduces the reads on your main table. 

### Limitations :
- Views are Read-Only.
- DB Engines may need the views and schema to be in the same DB engine.
- This can lead to single point of failure.
- Chanegs to the underlying schema may require the view to be updates.
### Where to Use :
- Where it is impractical to decompose the existing monolith schema.
- Ideally, Avoid the need for views and tyr for a proper schema decomposition.

## Pattern : Database wrapping service
### Problem : Your DB is too hard to deal with , Hiding the mess can make sense.
- Your DB is too loaded and its not feasible to accomidate more DB objects for future scalability
### Solution : 
- place an explicit service wrapper around the schema, and making it clear that the data can be accessed only through that service.
- hide the data‚Äêbase behind this service wrapper that acts as a thin wrapper, moving database dependencies to become service dependencies.
- Encourage teams to think as this common schema as someone else's and store their own data locally.
- This solves the puts brakes on the DB growing further.
### Where to use it ?
- where the underlying schema is just too hard to consider pulling apart.
- 
### Pros and COns
- The wrapping service can also take writes via API calls
- Require upstream consumers to makechanges; they have to shift from direct DB access to API calls.
- Using this pattern would be a stepping stone to more fundamental changes,giving you time to break apart the schema underneath your API layer.
